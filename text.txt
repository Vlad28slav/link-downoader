 <script>
         document.addEventListener('DOMContentLoaded', function () {
             const form = document.getElementById('myForm2');
 
             form.addEventListener('submit', async function(event) {
                 event.preventDefault();
                 try {
                     const data = await response.json(); 
                     const link = data.link;  
                 } catch (error) {
                     console.error('Error opening the link:', error);
                 }
             });
         });
     </script>

 <form method="post" id="myForm2" action="/download_file" enctype="multipart/form-data">
         <label for="fname">Write your password:</label>
         <input type="password" id="password" name="password">
         <label for="fname">Write your receiver's code:</label>
         <input type="text" id="hash_for_downloading" name="hash_for_downloading">
         <input class="submit" type="submit" value="Download">

      </form>
      <div id="result"></div>

    with open("templates/password_input.html") as inf:
        txt = inf.read()
        soup = bs4.BeautifulSoup(txt, features="html.parser")

    new_line = soup.new_tag("input")
    new_line.attrs['id'] = 'download_link'
    new_line.attrs['name'] = 'download_link'
    new_line.string = download_link
    soup.body.append(new_line)

    with open("templates/password_input.html", "w") as outf:
        outf.write(str(soup))